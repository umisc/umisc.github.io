{"version":3,"sources":["webpack:///./src/pages/events.js"],"names":["before_today","d","today","Date","targ","prev_year","getFullYear","prev_month","getMonth","prev_day","getDate","EventsPageItem","path","fluid","image","childImageSharp","title","date","eventType","className","key","to","pageQuery","EventsPage","events","data","allMarkdownRemark","edges","past_events","filter","e","node","frontmatter","curr_events","length","map"],"mappings":"qHAAA,mIAgEMA,GAhEN,UAgEqB,SAACC,GACpB,IAAIC,EAAQ,IAAIC,KACZC,EAAO,IAAID,KAAKF,GAChBI,EAAYD,EAAKE,cAAgBJ,EAAMI,cACvCC,EACFH,EAAKE,eAAiBJ,EAAMI,eAC5BF,EAAKI,WAAaN,EAAMM,WACtBC,EACFL,EAAKE,eAAiBJ,EAAMI,eAC5BF,EAAKI,YAAcN,EAAMM,YACzBJ,EAAKM,UAAYR,EAAMQ,UACzB,OAAOL,GAAaE,GAAcE,IAG9BE,EAAiB,SAAC,GAQjB,IAPLC,EAOI,EAPJA,KAEqBC,EAKjB,EANJC,MACEC,gBAAmBF,MAErBG,EAGI,EAHJA,MACAC,EAEI,EAFJA,KAEI,EADJC,UAEA,OACE,yBAAKC,UAAU,mBAAmBC,IAAKR,GACrC,kBAAC,OAAD,CAAMS,GAAIT,GACR,yBAAKO,UAAU,mBACb,kBAAC,IAAD,CAAKN,MAAOA,KAEd,yBAAKM,UAAU,QACb,0BAAMA,UAAU,SAASH,GACzB,6BACA,0BAAMG,UAAU,WAAWF,OAOxBK,EAAS,aA2BPC,UA1HI,SAAC,GAAc,IACjBC,EADgB,EAAXC,KACWC,kBAAvBC,MAEFC,EAAcJ,EAAOK,QAAO,gBAASC,EAAT,EAAGC,KAAH,OAChC/B,EAAa8B,EAAEE,YAAYf,SAEvBgB,EAAcT,EAAOK,QACzB,gBAASC,EAAT,EAAGC,KAAH,OAAkB/B,EAAa8B,EAAEE,YAAYf,SAE/C,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKD,MAAM,WACX,yBAAKG,UAAU,yBACb,+CACuB,GAAtBc,EAAYC,OACX,yBAAKf,UAAU,aAAf,+CAIA,yBAAKA,UAAU,0BACZc,EAAYE,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBpB,EAAemB,EAAEE,iBAGvD,2CACA,wBAAIb,UAAU,qBAAd,kBACA,yBAAKA,UAAU,0BACZS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KAClB,MAC8B,mBAA5BD,EAAEE,YAAYd,WACdP,EAAemB,EAAEE,iBAIvB,wBAAIb,UAAU,qBAAd,gBACA,yBAAKA,UAAU,0BACZS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KAClB,MAC8B,iBAA5BD,EAAEE,YAAYd,WACdP,EAAemB,EAAEE,iBAIvB,wBAAIb,UAAU,qBAAd,aACA,yBAAKA,UAAU,0BACZS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KAClB,MAC8B,aAA5BD,EAAEE,YAAYd,WACdP,EAAemB,EAAEE","file":"component---src-pages-events-js-9b44c59a97da1b849a2c.js","sourcesContent":["import React from \"react\";\r\nimport { Link, graphql } from \"gatsby\";\r\nimport Img from \"gatsby-image\";\r\nimport Layout from \"../components/layout\";\r\nimport SEO from \"../components/seo\";\r\n\r\nimport \"../styles/events.sass\";\r\n\r\nconst EventsPage = ({ data }) => {\r\n  const { edges: events } = data.allMarkdownRemark;\r\n  const categories = [\"Workshops\", \"Guest Events\", \"Special Events\"];\r\n  const past_events = events.filter(({ node: e }) =>\r\n    before_today(e.frontmatter.date)\r\n  );\r\n  const curr_events = events.filter(\r\n    ({ node: e }) => !before_today(e.frontmatter.date)\r\n  );\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"Events\" />\r\n      <div className=\"events-page-container\">\r\n        <h1>Upcoming Events</h1>\r\n        {curr_events.length == 0 ? (\r\n          <div className=\"no-events\">\r\n            Nothing yet... Check back later this month!\r\n          </div>\r\n        ) : (\r\n          <div className=\"events-items-container\">\r\n            {curr_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\r\n          </div>\r\n        )}\r\n        <h1>Past Events</h1>\r\n        <h2 className=\"events-subheading\">Special Events</h2>\r\n        <div className=\"events-items-container\">\r\n          {past_events.map(({ node: e }) => {\r\n            return (\r\n              e.frontmatter.eventType === \"Special events\" &&\r\n              EventsPageItem(e.frontmatter)\r\n            );\r\n          })}\r\n        </div>\r\n        <h2 className=\"events-subheading\">Guest Events</h2>\r\n        <div className=\"events-items-container\">\r\n          {past_events.map(({ node: e }) => {\r\n            return (\r\n              e.frontmatter.eventType === \"Guest Events\" &&\r\n              EventsPageItem(e.frontmatter)\r\n            );\r\n          })}\r\n        </div>\r\n        <h2 className=\"events-subheading\">Workshops</h2>\r\n        <div className=\"events-items-container\">\r\n          {past_events.map(({ node: e }) => {\r\n            return (\r\n              e.frontmatter.eventType === \"Workshop\" &&\r\n              EventsPageItem(e.frontmatter)\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst before_today = (d) => {\r\n  var today = new Date();\r\n  var targ = new Date(d);\r\n  var prev_year = targ.getFullYear() < today.getFullYear();\r\n  var prev_month =\r\n    targ.getFullYear() == today.getFullYear() &&\r\n    targ.getMonth() < today.getMonth();\r\n  var prev_day =\r\n    targ.getFullYear() == today.getFullYear() &&\r\n    targ.getMonth() == today.getMonth() &&\r\n    targ.getDate() < today.getDate();\r\n  return prev_year || prev_month || prev_day;\r\n};\r\n\r\nconst EventsPageItem = ({\r\n  path,\r\n  image: {\r\n    childImageSharp: { fluid },\r\n  },\r\n  title,\r\n  date,\r\n  eventType,\r\n}) => {\r\n  return (\r\n    <div className=\"events-page-item\" key={path}>\r\n      <Link to={path}>\r\n        <div className=\"image-container\">\r\n          <Img fluid={fluid} />\r\n        </div>\r\n        <div className=\"text\">\r\n          <span className=\"title\">{title}</span>\r\n          <br />\r\n          <span className=\"details\">{date}</span>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const pageQuery = graphql`\r\n  query EventsQuery {\r\n    allMarkdownRemark(\r\n      filter: { fileAbsolutePath: { regex: \"/events/\" } }\r\n      sort: { order: DESC, fields: [frontmatter___date] }\r\n    ) {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n            date(formatString: \"MMMM DD, YYYY\")\r\n            path\r\n            eventType\r\n            image {\r\n              childImageSharp {\r\n                fluid(maxWidth: 800) {\r\n                  ...GatsbyImageSharpFluid\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default EventsPage;\r\n"],"sourceRoot":""}